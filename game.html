function drawTree(ctx, t){
  const pos = worldToScreen(t.x, t.y);

  const fallDur = 0.8;
  const k = t.falling ? clamp(t.fallT / fallDur, 0, 1) : 0;
  const kk = easeOutQuint(k);
  const ang = t.falling ? kk * (Math.PI/2) * t.fallDir : 0;

  const s = t.scale;
  const trunkH = PPU * (1.05 * t.trunk) * s;

  drawShadowCircle(ctx, pos.x, pos.y + PPU*0.4, PPU*0.9*s);

  ctx.save();
  ctx.translate(pos.x, pos.y);

  if (t.falling){
    ctx.translate(kk * PPU*0.8 * t.fallDir, kk * PPU*0.15);
  }

  ctx.translate(0, PPU*0.25*s);
  ctx.rotate(ang);
  ctx.translate(0, -PPU*0.25*s);

  /* ===== СТОВБУР ===== */
  const trunkW = 4*s;
  ctx.fillStyle = "#6b4625";
  pRect(ctx, -trunkW/2, -trunkH*0.1, trunkW, trunkH);

  ctx.fillStyle = "rgba(255,255,255,0.12)";
  pRect(ctx, -trunkW/2+1, -trunkH*0.1+2, trunkW*0.35, trunkH-4);

  ctx.fillStyle = "rgba(0,0,0,0.18)";
  pRect(ctx, 0, -trunkH*0.1+1, trunkW*0.4, trunkH-2);

  /* ===== ХВОЯ ===== */
  const snowA = t.snowiness;
  const greenA = 1 - snowA;

  const base = `rgba(62,127,75,${0.9*greenA+0.1})`;
  const hi   = `rgba(95,178,108,${0.7*greenA+0.1})`;
  const deep = `rgba(47,106,59,${0.8*greenA+0.1})`;

  const snow1 = `rgba(233,241,255,${0.35*snowA})`;
  const snow2 = `rgba(245,249,255,${0.55*snowA})`;

  const layers = 5;
  const topY = -PPU*(1.9*s);
  const step = PPU*(0.42*s);

  for (let i=0;i<layers;i++){
    const y0 = topY + i*step*1.35;
    const y1 = y0 + PPU*(0.8*s);
    const wX = PPU*(0.6*s) + i*PPU*(0.38*s);

    ctx.fillStyle = base;
    ctx.beginPath();
    ctx.moveTo(0,y0);
    ctx.lineTo(wX,y1);
    ctx.lineTo(-wX,y1);
    ctx.closePath();
    ctx.fill();

    ctx.fillStyle = deep;
    ctx.beginPath();
    ctx.moveTo(0,y0+PPU*0.12*s);
    ctx.lineTo(wX*0.8,y1);
    ctx.lineTo(-wX*0.2,y1);
    ctx.closePath();
    ctx.fill();

    ctx.fillStyle = hi;
    ctx.beginPath();
    ctx.moveTo(0,y0);
    ctx.lineTo(0,y1);
    ctx.lineTo(-wX,y1);
    ctx.closePath();
    ctx.fill();

    if (snowA > 0.05){
      ctx.fillStyle = snow2;
      ctx.beginPath();
      ctx.moveTo(0,y0+PPU*0.15*s);
      ctx.lineTo(wX*0.6,y1-PPU*0.1*s);
      ctx.lineTo(-wX*0.6,y1-PPU*0.1*s);
      ctx.closePath();
      ctx.fill();

      ctx.fillStyle = snow1;
      ctx.beginPath();
      ctx.moveTo(0,y0+PPU*0.35*s);
      ctx.lineTo(wX*0.45,y1-PPU*0.3*s);
      ctx.lineTo(-wX*0.45,y1-PPU*0.3*s);
      ctx.closePath();
      ctx.fill();
    }

    const spikes = 7 + i*2;
    for (let j=0;j<spikes;j++){
      const side = Math.random()<0.5 ? -1 : 1;
      const px = side*(wX-rand(1,PPU*0.2*s));
      const py = lerp(y0+PPU*0.2*s, y1-PPU*0.1*s, Math.random());
      ctx.fillStyle = Math.random()<0.6 ? base : deep;
      pDot(ctx, px, py, 1);
    }
  }

  ctx.fillStyle = snowA>0.5 ? "rgba(245,249,255,0.75)" : "rgba(95,178,108,0.85)";
  pDot(ctx, 0, topY-PPU*0.2*s, 2);

  ctx.restore();
}
